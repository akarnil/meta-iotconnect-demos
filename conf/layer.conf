# We have a conf and classes directory, add to BBPATH
BBPATH .= ":${LAYERDIR}"

# We have recipes-* directories, add to BBFILES
BBFILES += "${LAYERDIR}/recipes-*/*/*.bb \
            ${LAYERDIR}/recipes-*/*/*.bbappend"

BBFILE_COLLECTIONS += "meta-iotconnect-demos"
BBFILE_PATTERN_meta-iotconnect-demos = "^${LAYERDIR}/"
BBFILE_PRIORITY_meta-iotconnect-demos = "7"

LAYERDEPENDS_meta-iotconnect-demos = "core"
LAYERSERIES_COMPAT_meta-iotconnect-demos = "hardknott"

DISTRO_FEATURES_append = " systemd"
DISTRO_FEATURES_BACKFILL_CONSIDERED += " sysvinit"
VIRTUAL-RUNTIME_init_manager = " systemd"
VIRTUAL-RUNTIME_initscripts = " systemd-compat-units"

# If you are building a "core" image (ie core-image-base) then you must use CORE_IMAGE_EXTRA_INSTALL
# to add the application otherwise comment the line below out

CORE_IMAGE_EXTRA_INSTALL += " iotc-c-demo"
CORE_IMAGE_EXTRA_INSTALL += " iotc-python-demo"
CORE_IMAGE_EXTRA_INSTALL += " iotc-demo-config-dev"
CORE_IMAGE_EXTRA_INSTALL += " iotc-demo-scripts"

# If you are building a customised non "core" image then you must use IMAGE_INSTALL
#  to add the application otherwise comment the line below out

# IMAGE_INSTALL += " iotc-c-demo"
# IMAGE_INSTALL += " iotc-python-demo"
# IMAGE_INSTALL += " iotc-demo-config-dev"
# IMAGE_INSTALL += " iotc-demo-scripts"